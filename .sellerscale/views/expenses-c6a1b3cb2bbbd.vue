var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.expensesStore && _vm.productsStore)?_c('MiContainer',[_c('nu-theme',{attrs:{"name":"expense","color":"rgba(93, 113, 143, 1)","background-color":"#fff","border-color":"rgba(93, 113, 143, 1)"}}),_c('datalist',{attrs:{"id":"expense-name-options"}},_vm._l((_vm.$t('expenses.options')),function(option){return _c('option',{key:option,domProps:{"value":option}})}),0),_c('nu-pane',[_c('nu-heading',{attrs:{"size":"h1|||h3"}},[_vm._v("\n      "+_vm._s(_vm.$t('expenses.header'))+"\n      "),_c('MiInfo',{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:(_vm.$t('expenses.tooltip.header')),expression:"$t('expenses.tooltip.header')",modifiers:{"bottom":true}}]})],1),_c('nu-flex',{attrs:{"gap":".5"}},[_c('nu-btn',{attrs:{"special":"","disabled":_vm.activeExpense && !_vm.activeExpense.id},on:{"tap":_vm.addExpense}},[_c('nu-icon',{attrs:{"name":"plus-circle"}}),_vm._v("\n        "+_vm._s(_vm.$t('expenses.add'))+"\n      ")],1),(!_vm.isSidebarShown)?_c('nu-btn',{staticClass:"wide-only",on:{"tap":_vm.toggleFilters}},[_c('nu-icon',{attrs:{"name":"filter"}}),_vm._v("\n        "+_vm._s(_vm.$t('expenses.show_filters'))+"\n      ")],1):_vm._e()],1)],1),_c('nu-card',{attrs:{"shadow":"","border":"","gap":"1"}},[_c('nu-flex',{attrs:{"gap":"1","content":"start stretch","items":"stretch"}},[(_vm.isSidebarShown)?_c('nu-block',{staticClass:"wide-only",attrs:{"name":"sidebar","basis":"13","shrink":"0"}},[_c('nu-flow',{attrs:{"gap":"1","mod":"sticky-top","padding":"1 0 0 0","space":"1 0 0 0"}},[_c('nu-pane',[_c('nu-heading',{attrs:{"level":"3"}},[_vm._v(_vm._s(_vm.$t('expenses.filters')))]),_c('nu-btn',{attrs:{"mod":"xs"},on:{"tap":_vm.toggleFilters}},[_vm._v("\n              "+_vm._s(_vm.$t('actions.hide'))+"\n            ")])],1),_c('nu-block',[_c('nu-flow',{attrs:{"gap":".5"}},[_vm._l((_vm.presets),function(preset){return [(preset.label !== 'search' || _vm.query.length)?_c('nu-grid',{key:preset.label},[_c('nu-btn',{attrs:{"content":"center start","padding":".5 .75","theme":preset.theme,"border":preset.label !== _vm.currentPreset ? 'hidden' : ''},on:{"tap":function($event){return _vm.changePreset(preset.label, true)}}},[_c('nu-icon',{attrs:{"name":("circle" + (_vm.currentPreset === preset.label ? '-filled' : ''))}}),_c('nu-block',{attrs:{"mod":"ellipsis"}},[_vm._v("\n                      "+_vm._s(_vm.$t(("expenses.filter." + (preset.label))))+"\n                      "),(preset.label === 'search' && _vm.query.length)?_c('nu-block',{attrs:{"mod":"xs ellipsis"}},[_c('nu-icon',{attrs:{"name":"search","inline":""}}),_vm._v("\n                        "+_vm._s(_vm.query)+"\n                      ")],1):_vm._e()],1)],1)],1):_vm._e()]})],2)],1)],1)],1):_vm._e(),(_vm.isSidebarShown)?_c('nu-line',{staticClass:"wide-only",attrs:{"orient":"y"}}):_vm._e(),_c('nu-block',{attrs:{"grow":"1","flow":"column","name":"expenses-container","hidden":_vm.activeExpense ? 'false||true' : 'false'}},[_c('nu-pane',{attrs:{"columns":"auto 20","padding":"0 0 1","content":"start space-between"}},[_c('nu-flex',{attrs:{"items":"center","gap":".5","mod":"nowrap","size":"h3||h4|h6"}},[(_vm.currentPreset !== 'search')?_c('nu-heading',{attrs:{"level":"3","size":"inherit"}},[_vm._v("\n              "+_vm._s(_vm.$t(("expenses.filter." + _vm.currentPreset)))+"\n            ")]):_c('nu-heading',{attrs:{"level":"3","size":"inherit"}},[_vm._v("\n              "+_vm._s(_vm.$t('expenses.found'))+"\n            ")]),_c('nu-badge',{attrs:{"theme":"minor","mod":"w6","size":"md||sm|xs"}},[_vm._v("\n              "+_vm._s(_vm.totalExpenses)+"\n            ")])],1),(_vm.expensesStore && _vm.marketplaceExpenses.length)?_c('MiSearch',{attrs:{"value":_vm.currentPreset === 'search' ? _vm.query : ''},on:{"input":_vm.onSearchInput}}):_vm._e()],1),_c('nu-block',[(!_vm.groupedExpenses.length)?_c('nu-block',{attrs:{"mod":"w6","padding":"0 0 0 1"}},[_vm._v("\n            "+_vm._s(_vm.$t(("expenses.none" + (_vm.currentPreset === 'search' ? '_found' : ''))))+"\n          ")]):_vm._e(),_c('nu-flex',{attrs:{"flow":"column","gap":".5"}},_vm._l((_vm.groupedExpenses),function(month){return _c('nu-block',{key:_vm.formatDate(month.date, 'MMM YYYY')},[_c('nu-flex',{attrs:{"flow":"column","gap":".5"}},[_c('nu-flex',{staticClass:"-nu-bg-main",staticStyle:{"z-index":"2","margin-right":"-1rem !important"},attrs:{"flow":"column","gap":".5","mod":"sticky-top","padding":".5 1 0 0"}},[_c('nu-pane',[_c('nu-block',{attrs:{"mod":"w6 bg","theme":"default"}},[_vm._v("\n                      "+_vm._s(month.formattedDate)+"\n                    ")]),(!_vm.query.length)?_c('nu-badge',{staticStyle:{"color":"var(--background-color) !important"},attrs:{"mod":"w6 monospace minor","theme":"minor"}},[_vm._v("\n                      "+_vm._s(_vm.formatNumeric(month.total, '$'))+"\n                    ")]):_vm._e()],1),_c('nu-line',{attrs:{"color":"var(--color)"}})],1),(!month.dates.length)?_c('nu-block',{attrs:{"mod":"i","padding":"0 0 0 1"}},[_vm._v("\n                  No expenses\n                ")]):_vm._e(),_vm._l((month.dates),function(date){return _c('nu-block',{key:date.date},[_c('nu-flex',{attrs:{"gap":".5"}},[_c('nu-block',{attrs:{"padding":".25 0"}},[_c('nu-block',{staticStyle:{"top":"3rem !important"},attrs:{"mod":"center sticky-top","padding":"0 0 .25 0"}},[_c('nu-icon',{attrs:{"name":"calendar","size":"2"}}),_c('nu-block',{attrs:{"mod":"stretched xs w7 center","padding":".85 0 0 0"}},[_vm._v("\n                          "+_vm._s(date.day)+"\n                        ")])],1)],1),_c('nu-line',{attrs:{"orient":"y","column":"2","color":"var(--color)"}}),_c('nu-block',{attrs:{"grow":"1"}},[_c('nu-flex',{attrs:{"flow":"column","gap":".25"}},_vm._l((date.expenses),function(expense){return _c('nu-btn',{key:expense.id,attrs:{"grow":"1","theme":"expense","padding":".5","border":_vm.activeExpense
                            && expense.id === _vm.activeExpense.id ? '' : 'hidden',"columns":"1fr auto","items":"stretch","gap":"0"},on:{"tap":function($event){return _vm.setActiveExpense(expense)}}},[_c('nu-block',[_c('nu-block',{attrs:{"mod":"ellipsis","column":"1 / -1"}},[_vm._v("\n                              "+_vm._s(expense.description)+"\n                              "),(expense.comment)?_c('nu-icon',{directives:[{name:"tooltip",rawName:"v-tooltip",value:(expense.comment),expression:"expense.comment"}],attrs:{"name":"message-square"}}):_vm._e()],1),_c('nu-grid',{attrs:{"columns":"minmax(0, auto) minmax(2rem, 1fr) auto","items":"end stretch","gap":".5"}},[_c('nu-block',{attrs:{"mod":"xs ellipsis"}},[_c('nu-badge',{attrs:{"theme":"details"}},[_vm._v("\n                                  "+_vm._s(_vm.$t(("form_field.expense.categories." + (expense.category))))+"\n                                ")]),(expense.productId)?[_vm._v("\n                                  Â \n                                  "),_c('nu-icon',{attrs:{"name":"package","inline":""}}),_vm._v("\n                                  "+_vm._s(_vm.getProductName(expense.productId))+"\n                                ")]:_vm._e()],2),_c('nu-block',{attrs:{"padding":"0 0 .25 0","place":"end stretch"}},[_c('nu-block',{attrs:{"mod":"dashed-border"}})],1)],1)],1),_c('nu-grid',{attrs:{"mod":"w6 monospace","place":"end","gap":".5","flow":"column","items":"center"}},[(expense.recurrence)?_c('nu-icon',{attrs:{"name":"repeat"}}):_vm._e(),_vm._v("\n                            "+_vm._s(_vm.formatNumeric(expense.amount, '$'))+"\n                          ")],1)],1)}),1)],1)],1)],1)})],2)],1)}),1)],1)],1),(_vm.activeExpense)?[_c('nu-line',{attrs:{"orient":"y","hidden":_vm.activeExpense ? 'false||true' : 'false'}}),_c('nu-block',{attrs:{"mod":"relative","basis":"20||100%","shrink":"0"}},[_c('nu-flex',{staticStyle:{"margin-top":"-1rem"},attrs:{"flow":"column","gap":".5","mod":"sticky-top","padding":"1 0 0 0"}},[_c('nu-scroll'),_c('nu-block',[_c('nu-block',{attrs:{"mod":"w6 sm"}},[_vm._v("\n                "+_vm._s(_vm.$t('form_field.expense.description'))+"\n                "),_c('nu-icon',{directives:[{name:"tooltip",rawName:"v-tooltip.main",value:(_vm.$t('label.required_field')),expression:"$t('label.required_field')",modifiers:{"main":true}}],attrs:{"theme":"primary","size":".75","name":"info","inline":""}})],1),_c('MiInput',{ref:"description",model:{value:(_vm.activeExpense.description),callback:function ($$v) {_vm.$set(_vm.activeExpense, "description", $$v)},expression:"activeExpense.description"}})],1),_c('nu-grid',[_c('nu-block',{attrs:{"mod":"w6 sm"}},[_vm._v("\n                "+_vm._s(_vm.$t('form_field.expense.category'))+"\n              ")]),_c('MiSelect',{attrs:{"options":_vm.categoryOptions},on:{"input":_vm.onCategoryChange},model:{value:(_vm.activeExpense.category),callback:function ($$v) {_vm.$set(_vm.activeExpense, "category", $$v)},expression:"activeExpense.category"}})],1),_c('nu-grid',{attrs:{"columns":"auto 1fr","gap":".5"}},[_c('nu-block',{attrs:{"mod":"w6 sm"}},[_vm._v("\n                "+_vm._s(_vm.$t('form_field.expense.recurrence'))+"\n              ")]),_c('nu-block',{attrs:{"mod":"w6 sm"}},[_c('nu-switch',{attrs:{"mod":"xs","checked":_vm.activeExpense.recurrence},on:{"tap":function($event){_vm.activeExpense.recurrence = !_vm.activeExpense.recurrence}}})],1),[_c('nu-flex',{attrs:{"mod":"w6 sm","items":"center start"}},[_c('nu-block',[_vm._v("\n                    "+_vm._s(_vm.$t(("form_field.expense." + (_vm.activeExpense.recurrence ? 'period' : 'date'))))+"\n                  ")])],1),_c('nu-pane',{attrs:{"mod":"xs w5","content":"stretch","columns":"1fr 1fr 1.5"}},[_c('MiDateInput',{model:{value:(_vm.activeExpense.date),callback:function ($$v) {_vm.$set(_vm.activeExpense, "date", $$v)},expression:"activeExpense.date"}}),(_vm.activeExpense.recurrence)?[(!_vm.activeExpense.endDate)?_c('nu-btn',{attrs:{"mod":"xs nowrap","special":"","place":"stretch","padding":".5","gap":"0"},on:{"tap":_vm.addEndDate}},[_c('nu-icon',{attrs:{"name":"plus-circle"}}),_vm._v("\n                      "+_vm._s(_vm.$t('form_field.expense.endDate'))+"\n                    ")],1):[_c('MiDateInput',{model:{value:(_vm.activeExpense.endDate),callback:function ($$v) {_vm.$set(_vm.activeExpense, "endDate", $$v)},expression:"activeExpense.endDate"}}),_c('nu-btn',{attrs:{"mod":"md","special":"","padding":".5 .25"},on:{"tap":_vm.removeEndDate}},[_c('nu-icon',{attrs:{"name":"x"}})],1)]]:_vm._e()],2)]],2),(!_vm.activeExpense.recurrence)?_c('nu-grid',[_c('nu-block',{attrs:{"mod":"w6 sm"}},[_vm._v("\n                "+_vm._s(_vm.$t('form_field.expense.productId'))+"\n              ")]),_c('MiSelect',{attrs:{"options":_vm.productsOptions,"primary":"id","disabled":_vm.activeExpense.recurrence},scopedSlots:_vm._u([{key:"selected",fn:function(ref){
                            var option = ref.option;
return [_c('ProductSelectItem',{attrs:{"product":option,"none":_vm.$t('expenses.general')}})]}},{key:"option",fn:function(ref){
                            var option = ref.option;
return [_c('ProductSelectItem',{attrs:{"product":option,"none":_vm.$t('expenses.general')}})]}}],null,false,664496099),model:{value:(_vm.activeExpense.productId),callback:function ($$v) {_vm.$set(_vm.activeExpense, "productId", $$v)},expression:"activeExpense.productId"}})],1):_vm._e(),_c('nu-block',[_c('nu-block',{attrs:{"mod":"w6 sm"}},[_vm._v("\n                "+_vm._s(_vm.$t('form_field.expense.marketplace'))+"\n\n                "),_c('nu-badge',{attrs:{"mod":"xs","theme":"details"}},[_vm._v("\n                  "+_vm._s(_vm.$t('label.coming_soon'))+"\n                ")])],1)],1),_c('nu-block',[_c('nu-block',{attrs:{"mod":"w6 sm"}},[_vm._v("\n                "+_vm._s(_vm.$t('form_field.expense.receipt'))+"\n\n                "),_c('nu-badge',{attrs:{"mod":"xs","theme":"details"}},[_vm._v("\n                  "+_vm._s(_vm.$t('label.coming_soon'))+"\n                ")])],1)],1),_c('nu-block',[_c('nu-block',{attrs:{"mod":"w6 sm"}},[_vm._v("\n                "+_vm._s(_vm.$t('form_field.expense.amount'))+"\n                "),_c('nu-icon',{directives:[{name:"tooltip",rawName:"v-tooltip.main",value:(_vm.$t('label.required_field')),expression:"$t('label.required_field')",modifiers:{"main":true}}],attrs:{"theme":"primary","size":".75","name":"info","inline":""}})],1),_c('nu-pane',{attrs:{"columns":"1fr 1fr"}},[_c('MiInputCurrency',{attrs:{"schema":{ min: 0, max: 999999 }},model:{value:(_vm.activeExpense.amount),callback:function ($$v) {_vm.$set(_vm.activeExpense, "amount", $$v)},expression:"activeExpense.amount"}})],1)],1),_c('nu-block'),_c('nu-grid',{attrs:{"columns":"3fr 2fr","gap":".5"}},[_c('nu-btn',{attrs:{"special":"","disabled":!_vm.isFormValid},on:{"tap":_vm.saveExpense}},[_vm._v("\n                "+_vm._s(_vm.$t(("actions." + (_vm.activeExpense.id ? 'save' : 'add'))))+"\n              ")]),(_vm.activeExpense.id)?_c('nu-btn',{attrs:{"theme":"danger","special":"","disabled":!_vm.isFormValid},on:{"tap":_vm.deleteExpense}},[_vm._v("\n                "+_vm._s(_vm.$t("actions.delete"))+"\n              ")]):_vm._e(),(!_vm.activeExpense.id)?_c('nu-btn',{on:{"tap":_vm.cancel}},[_vm._v("\n                "+_vm._s(_vm.$t("actions.cancel"))+"\n              ")]):_vm._e()],1)],1)],1)]:_vm._e()],2)],1)],1):_vm._e()}
var staticRenderFns = []

export { render, staticRenderFns }